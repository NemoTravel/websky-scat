{"version":3,"sources":["custom-controllers.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","isRouteController","$scope","backend","$location","$rootScope","replaceFareGroup","vm","fareGroupDescription","replace","$watch","angular","bind","this","newfareGroupDescription","parentScope","$parent","_","forEach","searchParams","segments","segment","destination","codeEn","origin","app","directive","scope","controllerAs","bindToController","scopeAs","controller","2","./directives/replaceWith"],"mappings":"CAAA,WAAY,QAASA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAE,kBAAmBC,UAASA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,GAAGF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAQ,IAAI,GAAIL,GAAE,kBAAmBD,UAASA,QAAQH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,GAAE,MAAOJ,OAAOiB,GAAG,SAAST,EAAQU,EAAOJ,GACxe,YAqBA,SAASK,GAAkBC,EAAQC,EAASC,EAAWC,GAsBnD,QAASC,KAGAC,EAAGC,uBAKRD,EAAGC,qBAAuBD,EAAGC,qBAAqBC,QAAQ,SAAU,UA7BxE,GAAIF,GAAKL,EAAOK,EAGhBL,GAAOQ,OAAOC,QAAQC,KAAKC,KAAM,WAE7B,MAAON,GAAGC,uBAEV,SAAUM,GAEV,GAAIC,GAAcb,EAAOc,QAAQT,EAEjCU,GAAEC,QAAQH,EAAYI,aAAaC,SAAU,SAAUC,GACnD,MAAmC,QAA/BA,EAAQC,YAAYC,QACM,QAA1BF,EAAQG,OAAOD,WACfjB,KAFJ,WA3BZ,GAAImB,GAAMd,QAAQX,OAAO,MAEzByB,GAAIC,UAAU,cAAe,WACzB,OACIC,OAAO,EACPC,aAAc,cACdC,kBAAkB,EAClBC,QAAS,KACTC,WAAY,uBAIpBN,EAAIM,WAAW,qBAAsB,SAAU,UAAW,YAAa,aAAc9B,SAuC/E+B,GAAG,SAAS1C,EAAQU,EAAOJ,GACjC,YACAN,GAAQ,8BAEL2C,2BAA2B,SAAS","file":"custom-controllers.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n/*\n*\n* TODO: find the way to use this module without adding directive to component, if u can, remove search, search-order and add-services component\n*\n */\n\nvar app = angular.module('app');\n\napp.directive('replaceWith', function () {\n    return {\n        scope: false,\n        controllerAs: 'replaceWith',\n        bindToController: true,\n        scopeAs: 'vm',\n        controller: 'isRouteController',\n    }\n});\n\napp.controller('isRouteController', ['$scope', 'backend', '$location', '$rootScope', isRouteController]);\n\nfunction isRouteController($scope, backend, $location, $rootScope) {\n    var vm = $scope.vm;\n\n\n    $scope.$watch(angular.bind(this, function () {\n\n        return vm.fareGroupDescription;\n\n    }), function (newfareGroupDescription) {\n\n        var parentScope = $scope.$parent.vm;\n\n        _.forEach(parentScope.searchParams.segments, function (segment) {\n            if (segment.destination.codeEn === 'IST' ||\n                segment.origin.codeEn === 'IST') {\n                replaceFareGroup();\n\n                return;\n            }\n        });\n    });\n\n    function replaceFareGroup() {\n        var counter = 0;\n\n        if (!vm.fareGroupDescription) {\n            return;\n        }\n\n\n        vm.fareGroupDescription = vm.fareGroupDescription.replace(/20 кг/g, '30 кг');\n\n    }\n}\n\n\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\nrequire('./directives/replaceWith');\n\n},{\"./directives/replaceWith\":1}]},{},[2]);\n"]}